<%- include('../layouts/header.ejs', {title: 'Lista de tarefas.'}) %>
<%- include('../layouts/menu.ejs') %>
<section class="section">
    <div class="container">
      <div class="columns">
        <div class="column is-four-fifths">
          <h1 class="title size-4">Listas de Tarefas</h1>
        </div>
        <div class="column is-one-fifth">
          <a href="/checklists/new" class="button is-success is-small">Nova Lista</a>
        </div>
      </div>

      <div class="columns is-multiline">
        <% if (checklists.length > 0){%>
          <% checklists.forEach(c=>{%>    
            <div class="column is-one-quarter">
              <div class="card has-background-white-ter">
                <div class="card-content">
                  <p class="subtitle is-size-5">
                  <%=c.name%>
                  </p>
                  <p class="subtitle is-size-6">
                  <%=c.tasks.length%> tarefas registradas.
                  </p>
                </div>
                <footer class="card-footer">
                  <p class="card-footer-item">
                    <span>
                      <a href="checklists/<%=c._id%>">Ver</a>
                    </span>
                  </p>
                  <p class="card-footer-item">
                    <span>
                      <a href="/checklists/<%=c._id%>/edit">Editar</a>
                    </span>
                  </p>
                  <p class="card-footer-item">
                    <span>
                      <a href="/checklists/<%=c._id%>/?_method=delete" class="has-text-danger">Remover</a>
                    </span>
                  </p>
                </footer>
              </div>
          </div>
          <%})%>
          <%}else{%>
            <h1 class="subtitle is-3" style="margin: auto;margin-top: 20px;">Parece que vocÃª ainda nÃ£o tem nenhuma lista de tarefas ainda, que tal adicionar uma? :)</h1>
          <%}%>
      </div>
    </div>
  </section>
<%- include('../layouts/footer.ejs') %>